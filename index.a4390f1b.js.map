{"mappings":"IAQAA,EAAe,C,eANf,SAAwBC,GACpB,OAAOC,MAAM,qCAAoBD,KAAQE,MAAKC,IAAc,IAAKA,EAASC,GACxE,MAAM,IAAIC,MAAMF,EAASG,QACzB,OAAOH,EAASI,MAAM,G,GCEdC,SAASC,cAAc,eAG/BC,iBAAiB,SAMvB,SAAkBC,GACd,MAAMC,EAAeD,EAAEE,cAAcC,MACrCf,EAAIgB,eAAeH,GAAcV,KAAKc,GAAcC,OA6CpDC,EAASC,UAAY,GACrBC,EAAcD,UAAY,QAC1BE,QAAQC,IAAI,6C,IArDhB,MAAMF,EAAgBZ,SAASC,cAAc,iBACvCS,EAAWV,SAASC,cAAc,iBAQxC,SAASO,EAAaO,GACG,IAAjBA,EAAMC,OAsBd,SAA6BC,GACzB,MAAMC,EAASD,EAAQE,KAAI,EAACC,MAAEA,EAAK5B,KAAEA,EAAI6B,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,MACxD,MAAMC,EAAgB,GACtB,IAAK,MAAMC,KAAYF,EACnBC,EAAcE,KAAKD,EAASjC,MAEhC,MAAO,2DACgC4B,EAAMO,aAAaP,EAAMQ,sBAC9DpC,2DAEoB6B,wCACFC,uCACDE,EAAcK,KAAK,2BACnC,IACJA,KAAK,IACRjB,EAAcD,UAAYO,C,CApC1BY,CAAoBf,GAEfA,EAAMC,QAAU,IAAMD,EAAMC,QAAU,EASnD,SAA6Be,GACrB,MAAMb,EAASa,EAAeZ,KAAI,EAACC,MAACA,EAAK5B,KAAEA,KAChC,6FAC8C4B,EAAMO,aAAaP,EAAMQ,0BACzEpC,6BAEFqC,KAAK,IACRnB,EAASC,UAAYO,C,CAfzBc,CAAoBjB,GAGpBF,QAAQC,IAAI,6D","sources":["src/fetchCountries.js","src/index.js"],"sourcesContent":["const BASE_URL = 'https://restcountries.com/v2'\n\nfunction fetchCountries(name) {\n    return fetch(`${BASE_URL}/name/${name}`).then(response => { if (!response.ok) {\n      throw new Error(response.status);\n    } return response.json() });\n};  \n\nexport default { fetchCountries };","import './css/styles.css';\nimport API from './fetchCountries.js'\n\n// const _ = require('lodash'); \n\nconst DEBOUNCE_DELAY = 300;\n\nconst input = document.querySelector(\"#search-box\");\n\n// input.addEventListener(\"input\", _.debounce(onSearch, DEBOUNCE_DELAY));\ninput.addEventListener(\"input\", onSearch);\n\nconst cardContainer = document.querySelector(\".country-info\");\nconst cardList = document.querySelector(\".country-list\");\n\n\nfunction onSearch(e) {\n    const contriesName = e.currentTarget.value;\n    API.fetchCountries(contriesName).then(searchResult).catch(clearScrin());\n}\n\nfunction searchResult(array) {\n    if (array.length === 1) {\n        renderCountriesCard(array);\n    }\n    else if (array.length <= 10 && array.length >= 2) {\n        renderCountriesList(array);\n    }\n    else {\n        console.log(`Too many matches found. Please enter a more specific name.`);\n    }\n\n} \n\nfunction renderCountriesList(countriesArray) {\n        const murkup = countriesArray.map(({flags, name}) => {\n            return `<li class=\"country-item\">\n            <img class=\"country-flag country-flag__small\" src=\"${flags.svg}\" alt=\"${flags.alt}\"/>\n            <p>${name}</p>\n            </li>`\n            }).join(\"\");\n            cardList.innerHTML = murkup;\n}\n\nfunction renderCountriesCard(country) {\n    const murkup = country.map(({ flags, name, capital, population, languages }) => {\n            const languageArray = [];\n            for (const language of languages) {\n                languageArray.push(language.name)\n            };\n            return `<div>\n        <img class=\"country-flag\" width=200 src=\"${flags.svg}\" alt=\"${flags.alt}\">\n        <h1>${name}</h1>\n        </div>\n        <div><p><b>Capital:</b> ${capital}</p>\n        <p><b>Population:</b> ${population}</p>\n        <p><b>Languages:</b> ${languageArray.join(', ')}</p>\n        </div>`\n        }).join(\"\");\n        cardContainer.innerHTML = murkup;\n};\n\nfunction clearScrin() {\n    cardList.innerHTML = ``;\n    cardContainer.innerHTML = ``;\n    console.log(`Oops, there is no country with that name`)\n}"],"names":["$c584ef0d490f0a58$export$2e2bcd8739ae039","name","fetch","then","response","ok","Error","status","json","document","querySelector","addEventListener","e","contriesName","currentTarget","value","fetchCountries","$1f0dc3b9307be026$var$searchResult","catch","$1f0dc3b9307be026$var$cardList","innerHTML","$1f0dc3b9307be026$var$cardContainer","console","log","array","length","country","murkup","map","flags","capital","population","languages","languageArray","language","push","svg","alt","join","$1f0dc3b9307be026$var$renderCountriesCard","countriesArray","$1f0dc3b9307be026$var$renderCountriesList"],"version":3,"file":"index.a4390f1b.js.map"}